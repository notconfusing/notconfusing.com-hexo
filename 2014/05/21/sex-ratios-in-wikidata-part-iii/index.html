<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Sex Ratios in Wikidata Part III | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="For a better reading experience read this post in the IPython Notebook Viewer.&amp;nbsp;## Introduction¶I recently got back from the Mediawiki Hackathon in Zürich, where I was once again energized and ins">
<meta property="og:type" content="article">
<meta property="og:title" content="Sex Ratios in Wikidata Part III">
<meta property="og:url" content="http://yoursite.com/2014/05/21/sex-ratios-in-wikidata-part-iii/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="For a better reading experience read this post in the IPython Notebook Viewer.&amp;nbsp;## Introduction¶I recently got back from the Mediawiki Hackathon in Zürich, where I was once again energized and ins">
<meta property="og:image" content="http://notconfusing.com/wp-content/uploads/2014/05/Sex-Ratios-Wikidata-May-2014.png">
<meta property="og:updated_time" content="2017-01-18T01:53:34.244Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Sex Ratios in Wikidata Part III">
<meta name="twitter:description" content="For a better reading experience read this post in the IPython Notebook Viewer.&amp;nbsp;## Introduction¶I recently got back from the Mediawiki Hackathon in Zürich, where I was once again energized and ins">
<meta name="twitter:image" content="http://notconfusing.com/wp-content/uploads/2014/05/Sex-Ratios-Wikidata-May-2014.png">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-sex-ratios-in-wikidata-part-iii" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/05/21/sex-ratios-in-wikidata-part-iii/" class="article-date">
  <time datetime="2014-05-21T16:00:15.000Z" itemprop="datePublished">2014-05-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Essays/">Essays</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Sex Ratios in Wikidata Part III
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <div id="notebook" class="border-box-sizing" tabindex="-1"><br><div id="notebook-container" class="container"><br><div class="cell border-box-sizing text_cell rendered"><br><div class="inner_cell"><br><div class="text_cell_render border-box-sizing rendered_html"><br><br><span style="font-size: 18pt;">For a better reading experience read <a href="http://nbviewer.ipython.org/github/notconfusing/wikidataSex/blob/master/ratio_analysis/Sex%20Ratios%20By%20Language%20May%202014.ipynb" target="_blank" rel="external">this post in the IPython Notebook Viewer</a>.</span><br><br>&nbsp;<br><br>## Introduction<a href="#Introduction">¶</a><br><br></div><br></div><br></div><br><div class="cell border-box-sizing text_cell rendered"><br><div class="prompt input_prompt"></div><br><div class="inner_cell"><br><div class="text_cell_render border-box-sizing rendered_html"><br><br>I recently got back from the <a href="http://www.mediawiki.org/wiki/Z%C3%BCrich_Hackathon_2014" target="_blank" rel="external">Mediawiki Hackathon in Zürich</a>, where I was once again energized and inspired by the Wikidata Dev Team and Community. In chatting, they reminded me of analyses I ran in March 2013, <a href="http://hangingtogether.org/?p=2877" target="_blank" rel="external">Sex Ratios and Wikidata Parts I</a> and <a href="http://hangingtogether.org/?p=2986" target="_blank" rel="external">II</a>, about the state of a controversial Wikidata Property - <a href="https://www.wikidata.org/wiki/Property:P21" target="_blank" rel="external">P21</a> a.k.a. “sex or gender”. They suggested it was about time to reinvestigate.<br><br>Since Part I and II a lot has happened: the property has been renamed (from “sex” to “sex or gender”), it’s database constraints have been changed (from 3 accepted values to <a href="https://www.wikidata.org/wiki/Property_talk:P21" target="_blank" rel="external">13</a>), and of course Wikidata has continued to proliferate (now about 400 million triples).<br><br>Therefore a few questions are begged:<br><br>1.  What are the currently used values of ‘sex or gender’, and their ratios in each language?<br>2.  How does May 2014 data compare to a year ago?<br>3.  What are the most represented neither ‘male’ nor ‘female’ ‘sex or gender’s?<br><br>    1.  And which languages use them most?<br><br>4.  Per used sex value, what are the average number of accompanying properties?<br>That last question is not like the others, but comes from exploring the new <a href="https://www.mediawiki.org/wiki/Wikidata_Toolkit" target="_blank" rel="external">Wikidata Toolkit</a>, a library for parsing Wikidata dumps. Trying to stretch the imagination of what can be done with Wikidata data is a new hobby of mine, and I am giving a talk about it at Wikiconference USA, titled <a href="https://meta.wikimedia.org/wiki/WikiConference_USA#Schedule_of_sessions" target="_blank" rel="external">“Answering Big Questions with Wikidata”</a>. For now the Wikidata Toolkit is at version 0.1.0, which is still not entirely feature-complete, but works perfectly to extract complete, daily-fresh data. For my own convenience I subset the data in <a href="https://github.com/notconfusing/wikidataSex/tree/master/ratio_analysis" target="_blank" rel="external">java and then json export (github link)</a>, allowing me to munge it in Python with the “Pandas” library, which is exactly what you see here.<br><br>The biggest change in my opinion is the broadening - (but still not broad enough in my opinion - of the “accepted values” of the property. Let’s see what wikidatians are using these days. Below are the English titles of the QIDs and how many different wikidata-linked-wikis are connected to an item utilising that value.<br><br></div><br></div><br></div><br><div class="cell border-box-sizing code_cell rendered"><br><div class="input"><br><div class="prompt input_prompt">In [1]:</div><br><div class="inner_cell"><br><div class="input_area"><br><div class="highlight"><br><pre><span class="p">{</span><span class="n">english_label</span><span class="p">(</span><span class="n">qid</span><span class="p">):</span> <span class="n">language_count</span> <span class="k">for</span> <span class="n">qid</span><span class="p">,</span> <span class="n">language_count</span> <span class="ow">in</span> <span class="n">used_sexes_count</span><span class="o">.</span><span class="n">iteritems</span><span class="p">()}</span><br><br></pre><br></div><br></div><br></div><br></div><br><div class="output_wrapper"><br><div class="output"><br><div class="output_area"><br><div class="prompt output_prompt">Out[1]:</div><br><div class="output_text output_subarea output_pyout"><br><pre>{u’Female’: 89,<br> u’female’: 367,<br> u’female animal’: 55,<br> u’genderqueer’: 23,<br> u’intersex’: 51,<br> u’kathoey’: 10,<br> u’male’: 395,<br> u’male animal’: 66,<br> u’man’: 3,<br> u’sodium’: 1,<br> u’transgender female’: 63,<br> u’transgender male’: 24}<br></pre><br></div><br></div><br></div><br></div><br></div><br><div class="cell border-box-sizing text_cell rendered"><br><div class="prompt input_prompt"></div><br><div class="inner_cell"><br><div class="text_cell_render border-box-sizing rendered_html"><br><br>So without delving into the <em>validity</em> of the classifications used, which I’ll adress later, we see 12 classifications in active duty. Compare this to the begrudging trinary we had a year ago, or <a href="https://duckduckgo.com/?q=facebook+50+gender+options&amp;t=canonical" target="_blank" rel="external">Facebook’s announcement to use about 50 classifcations</a>. We can also see that there are two heavily used classifications - by the metric of number of wikis using them - called ‘male’ (395 wikis) and ‘female’ (367 wikis). Why the difference in the number of wikis? We must clarify what we mean by use. We are talking about a Wikipedia, or a Wikisource, or a Wikivoyage instance that has a article that is linked to a Wikidata item which has a P21 “sex or gender” property. So that means that there are 28 or more Wikimedia wikis which have an article which Wikidata claims is about a ‘male’, but have no articles about ‘female’s. But there are also a lot of tiny wikis out there, which might explain this discrepancy.<br><br>Let’s restrict our data set only to those Wikis which have 1,000 or more articles that are linked to a Wikidata item with a P21 property. There are 42 such wikis as of May 2014. Now we plot, the ratios or composition of the values of this property in each of those 42 wikis.<br><br></div><br></div><br></div><br><div class="cell border-box-sizing code_cell rendered"><br><div class="input"><br><div class="prompt input_prompt">In [2]:</div><br><div class="inner_cell"><br><div class="input_area"><br><div class="highlight"><br><pre><span class="n">show_by_lang_plot</span><span class="p">()<br></span></pre><br><div class="prompt input_prompt">Out[2]:</div><br></div><br></div><br></div><br></div><br><div class="output_wrapper"><a href="http://notconfusing.com/wp-content/uploads/2014/05/Sex-Ratios-Wikidata-May-2014.png" target="_blank" rel="external"><img src="http://notconfusing.com/wp-content/uploads/2014/05/Sex-Ratios-Wikidata-May-2014.png" alt="Sex Ratios Wikidata May 2014"></a></div><br></div><br><div class="cell border-box-sizing text_cell rendered"><br><div class="inner_cell"><br><div class="text_cell_render border-box-sizing rendered_html"><br><br>As is visually evident, only the ‘male’ and ‘female’ categories are large enough to appear in the plot (later on we investigate this numerically). Therefore the chart is ordered by the ‘female’ percentage which ranges from 8.83% - Slovenian Wikipedia, to 19.97% - Serbian Wikipedia. English Wikipedia, the largest Wikipedia by article count comes in at 14.21% which is in the lowest quarter. Wikimedia commons, the only non-Wikipedia represented here performs <em>relatively</em> well at 18.86%.<br><br>These percentages are still systematically low, and tell a story that we’ve long known about representational bias. But what about the momentum? What difference are our efforts at uncovering and addressing systemic bias producing?<br><br></div><br></div><br></div><br><div class="cell border-box-sizing text_cell rendered"><br><div class="prompt input_prompt"></div><br><div class="inner_cell"><br><div class="text_cell_render border-box-sizing rendered_html"><br><br>## Comparing May 2013 to March 2014<a href="#Comparing-May-2013-to-March-2014">¶</a><br><br></div><br></div><br></div><br><div class="cell border-box-sizing text_cell rendered"><br><div class="prompt input_prompt"></div><br><div class="inner_cell"><br><div class="text_cell_render border-box-sizing rendered_html"><br><br>These next tables inspect how a language’s composition changed in the previous year. We consider all languages that had at least 1,000 P21 associated properties in <em>both</em> years. I’ll disclaim that the differences come from the a Wikipedia’s content changing, but also from Wikidata becoming more connected to those different wikis. It’s not possible at the moment to disentangle these two causes. Another complicating factor, that we will investigate later on, is the growth of the neither-male-nor-female entries which could account for this drop - but (spoiler) they don’t.<br><br>In each table there is the percentage female from May 2013, from March 2014, and the <em>‘change%’</em> that this represents, “year-over-year” (even though its about 14 months).<br><br>We sort by <em>‘change%’</em>, and first look at the largest losses in ‘female’ percentage.<br><br></div><br></div><br></div><br><div class="cell border-box-sizing text_cell rendered"><br><div class="prompt input_prompt"></div><br><div class="inner_cell"><br><div class="text_cell_render border-box-sizing rendered_html"><br><br>### Top Losers<a href="#Top-Losers">¶</a><br><br></div><br></div><br></div><br><div class="cell border-box-sizing code_cell rendered"><br><div class="input"><br><div class="prompt input_prompt">In [17]:</div><br><div class="inner_cell"><br><div class="input_area"><br><div class="highlight"><br><pre><span class="n">diffdf</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s">‘change%’</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="bp">True</span><span class="p">)[[</span><span class="s">‘female_may2013’</span><span class="p">,</span><span class="s">‘female_march2014’</span><span class="p">,</span><span class="s">‘change%’</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><br></pre><br></div><br></div><br></div><br></div><br><div class="output_wrapper"><br><div class="output"><br><div class="output_area"><br><div class="prompt output_prompt">Out[17]:</div><br><div class="output_html rendered_html output_subarea output_pyout"><br><div style="max-height: 1000px; max-width: 1500px; overflow: auto;"><br><table class="dataframe" border="1"><br><thead><br><tr style="text-align: right;"><br><th></th><br><th>female_may2013</th><br><th>female_march2014</th><br><th>change%</th><br></tr><br><tr><br><th>lang</th><br><th></th><br><th></th><br><th></th><br></tr><br></thead><br><tbody><br><tr><br><th>enwiki</th><br><td>0.1845</td><br><td>0.142132</td><br><td>-22.96</td><br></tr><br><tr><br><th>gawiki</th><br><td>0.1456</td><br><td>0.118133</td><br><td>-18.86</td><br></tr><br><tr><br><th>afwiki</th><br><td>0.1406</td><br><td>0.115850</td><br><td>-17.60</td><br></tr><br><tr><br><th>cswiki</th><br><td>0.1705</td><br><td>0.141063</td><br><td>-17.27</td><br></tr><br><tr><br><th>frwiki</th><br><td>0.1658</td><br><td>0.141045</td><br><td>-14.93</td><br></tr><br><tr><br><th>zhwiki</th><br><td>0.2062</td><br><td>0.178885</td><br><td>-13.25</td><br></tr><br><tr><br><th>itwiki</th><br><td>0.1667</td><br><td>0.144760</td><br><td>-13.16</td><br></tr><br><tr><br><th>hywiki</th><br><td>0.1633</td><br><td>0.141859</td><br><td>-13.13</td><br></tr><br><tr><br><th>ruwiki</th><br><td>0.1627</td><br><td>0.142226</td><br><td>-12.58</td><br></tr><br><tr><br><th>htwiki</th><br><td>0.0531</td><br><td>0.047382</td><br><td>-10.77</td><br></tr><br></tbody><br></table><br>10 rows × 3 columns<br><br></div><br></div><br></div><br></div><br></div><br></div><br><div class="cell border-box-sizing text_cell rendered"><br><div class="prompt input_prompt"></div><br><div class="inner_cell"><br><div class="text_cell_render border-box-sizing rendered_html"><br><br>English Wikipedia fell the most in the percentage of it’s P21 properties being marked ‘female’. The reprsentation of articles marked ‘female’, compared to all others, dropped by about 4% in absolute terms, which is -23% year-on-year.<br><br>Also of note, the Hatian Wikipedia, the previous worst at 5.3% slid to retain the dubious title at 4.7%.<br><br>What about the other end of the chart?<br><br></div><br></div><br></div><br><div class="cell border-box-sizing text_cell rendered"><br><div class="prompt input_prompt"></div><br><div class="inner_cell"><br><div class="text_cell_render border-box-sizing rendered_html"><br><br>### Top Winners<a href="#Top-Winners">¶</a><br><br></div><br></div><br></div><br><div class="cell border-box-sizing code_cell rendered"><br><div class="input"><br><div class="prompt input_prompt">In [18]:</div><br><div class="inner_cell"><br><div class="input_area"><br><div class="highlight"><br><pre><span class="n">diffdf</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s">‘change%’</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="bp">False</span><span class="p">)[[</span><span class="s">‘female_may2013’</span><span class="p">,</span><span class="s">‘female_march2014’</span><span class="p">,</span><span class="s">‘change%’</span><span class="p">]]</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><br></pre><br></div><br></div><br></div><br></div><br><div class="output_wrapper"><br><div class="output"><br><div class="output_area"><br><div class="prompt output_prompt">Out[18]:</div><br><div class="output_html rendered_html output_subarea output_pyout"><br><div style="max-height: 1000px; max-width: 1500px; overflow: auto;"><br><table class="dataframe" border="1"><br><thead><br><tr style="text-align: right;"><br><th></th><br><th>female_may2013</th><br><th>female_march2014</th><br><th>change%</th><br></tr><br><tr><br><th>lang</th><br><th></th><br><th></th><br><th></th><br></tr><br></thead><br><tbody><br><tr><br><th>urwiki</th><br><td>0.1319</td><br><td>0.486671</td><br><td>268.97</td><br></tr><br><tr><br><th>ocwiki</th><br><td>0.1261</td><br><td>0.159599</td><br><td>26.57</td><br></tr><br><tr><br><th>mlwiki</th><br><td>0.1636</td><br><td>0.202758</td><br><td>23.93</td><br></tr><br><tr><br><th>bnwiki</th><br><td>0.1313</td><br><td>0.161183</td><br><td>22.76</td><br></tr><br><tr><br><th>mznwiki</th><br><td>0.1041</td><br><td>0.125305</td><br><td>20.37</td><br></tr><br><tr><br><th>arzwiki</th><br><td>0.2392</td><br><td>0.287158</td><br><td>20.05</td><br></tr><br><tr><br><th>ltwiki</th><br><td>0.1190</td><br><td>0.142340</td><br><td>19.61</td><br></tr><br><tr><br><th>arwiki</th><br><td>0.1293</td><br><td>0.153516</td><br><td>18.73</td><br></tr><br><tr><br><th>warwiki</th><br><td>0.1003</td><br><td>0.116598</td><br><td>16.25</td><br></tr><br><tr><br><th>tlwiki</th><br><td>0.2943</td><br><td>0.340477</td><br><td>15.69</td><br></tr><br></tbody><br></table><br>10 rows × 3 columns<br><br></div><br></div><br></div><br></div><br></div><br></div><br><div class="cell border-box-sizing text_cell rendered"><br><div class="prompt input_prompt"></div><br><div class="inner_cell"><br><div class="text_cell_render border-box-sizing rendered_html"><br><br>Urdu Wikipedia gained a massive 268% year-on-year increase in their ‘female’ ratio. Now 49% of their P21-tagged articles have label ‘female’. Does anyone closer to this community know if there were any tagging efforts?<br><br>Tagalog Wiki, previous best, continued to increase to 34% of their P21-tagged articles having label ‘female’.<br><br>There has been a lot of movement in sex-ratios of different languages. As stated earlier this is also due in some part to the maturing of wikidata clusters. Next year we will be able to see if there is a deceleration in these ratios moving.<br><br>We now move on to invesitage the second confounding factor, the increase in accepted “sex or gender” values.<br><br></div><br></div><br></div><br><div class="cell border-box-sizing text_cell rendered"><br><div class="prompt input_prompt"></div><br><div class="inner_cell"><br><div class="text_cell_render border-box-sizing rendered_html"><br><br>### Non ‘male’ or ‘female’ values.<a href="#Non-">¶</a><br><br></div><br></div><br></div><br><div class="cell border-box-sizing text_cell rendered"><br><div class="prompt input_prompt"></div><br><div class="inner_cell"><br><div class="text_cell_render border-box-sizing rendered_html"><br><br>As we saw earlier, there are now 12 properties that are being used to describe P21. In May 2013 the only non-male-female term was intersex, and P21 said that you <strong>should </strong> be one of male, female, or intersex. I was quite angered by this prescriptiveness, but with help from online discussions, and with thanks to the <a href="https://lists.wikimedia.org/mailman/listinfo/gendergap" target="_blank" rel="external">gendergap mailing list</a> some of those policies have changed. This now is the “sex or gender” property, rather than just “sex” which I consider a mixed result - quite literally. I am pleased that there is one instance of this value that is “sodium”, because I support this prorpety allowing any value. To be clear, what an “accepted” value means, is that periodically a check is run on the database, and non-accepted values are compiled into a list for user-attention. So robot won’t fight you if you use an unaccepted value, but the fodder is there for a human combatant.<br><br>Two more of the new values mention “animal” because in <a href="https://www.wikidata.org/wiki/Property_talk:P21#Values_not_making_sense" target="_blank" rel="external">Czech and Finnish, there are seperate words to describe sexes of non-human animals</a>. And of course Wikipedia has articles on famous animals too.<br><br>Some others like ‘Female’ (a 1933 film), and ‘man’ are probably due to human tagging errors.<br><br>Below are the wiki’s which have the highest number of non ‘male’ or ‘female’ values as represented by the new column at the end “non_MF%”. As you can see none of them exceed two-tenths of 1%. So the upper analysis of year-on-year-change could at most be influenced by error range of ±0.2%.<br><br></div><br></div><br></div><br><div class="cell border-box-sizing code_cell rendered"><br><div class="input"><br><div class="prompt input_prompt">In [130]:</div><br><div class="inner_cell"><br><div class="input_area"><br><div class="highlight"><br><pre><span class="n">top_non_MF</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="s">‘non_MF%’</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span><br></pre><br></div><br></div><br></div><br></div><br><div class="output_wrapper"><br><div class="output"><br><div class="output_area"><br><div class="prompt output_prompt">Out[130]:</div><br><div class="output_html rendered_html output_subarea output_pyout"><br><div style="max-height: 1000px; max-width: 1500px; overflow: auto;"><br><table class="dataframe" border="1"><br><thead><br><tr style="text-align: right;"><br><th></th><br><th>wiki</th><br><th>non_MF%</th><br></tr><br></thead><br><tbody><br><tr><br><th>male animal</th><br><td>yiwiki</td><br><td>0.181159</td><br></tr><br><tr><br><th>transgender female</th><br><td>urwiki</td><br><td>0.092994</td><br></tr><br><tr><br><th>Female</th><br><td>mgwiki</td><br><td>0.080321</td><br></tr><br><tr><br><th>genderqueer</th><br><td>zh_min_nanwiki</td><br><td>0.066445</td><br></tr><br><tr><br><th>intersex</th><br><td>ckbwiki</td><br><td>0.058754</td><br></tr><br><tr><br><th>transgender male</th><br><td>arzwiki</td><br><td>0.042105</td><br></tr><br><tr><br><th>female animal</th><br><td>hywiki</td><br><td>0.038812</td><br></tr><br><tr><br><th>kathoey</th><br><td>thwiki</td><br><td>0.012922</td><br></tr><br><tr><br><th>man</th><br><td>jawiki</td><br><td>0.001523</td><br></tr><br><tr><br><th>sodium</th><br><td>eswiki</td><br><td>0.000990</td><br></tr><br></tbody><br></table><br>10 rows × 2 columns<br><br></div><br></div><br></div><br></div><br></div><br></div><br><div class="cell border-box-sizing text_cell rendered"><br><div class="prompt input_prompt"></div><br><div class="inner_cell"><br><div class="text_cell_render border-box-sizing rendered_html"><br><br>Intriguingly, Urdu which tops the charts in year-on-year ‘female’ increase also the leader in higest ratio of “transgender female” at nearly one-tenth of one percent, or about 1 in a 1000. This lends credence to the idea that some Urdu Wikipedians have been busy.<br><br></div><br></div><br></div><br><div class="cell border-box-sizing text_cell rendered"><br><div class="prompt input_prompt"></div><br><div class="inner_cell"><br><div class="text_cell_render border-box-sizing rendered_html"><br><br>### Accompanying Data Richness<a href="#Accompanying-Data-Richness">¶</a><br><br></div><br></div><br></div><br><div class="cell border-box-sizing text_cell rendered"><br><div class="prompt input_prompt"></div><br><div class="inner_cell"><br><div class="text_cell_render border-box-sizing rendered_html"><br><br>Markus Krötzsch, instigator of the Wikidata Toolkit, on which this research rests, talks about the complexity of Wikidata data. Convincingly he discusses why full unstructured access to the data is important - creative queries. Both star and tree shaped queries should be possible and at the users discretion.<br><br>One less trivial query I wanted to cook up was - “on items with a P21 value what are the properties by per item, by P21 value?” Framed in English, are wikidata items about males data-richer?<br><br></div><br></div><br></div><br><div class="cell border-box-sizing code_cell rendered"><br><div class="input"><br><div class="prompt input_prompt">In [44]:</div><br><div class="inner_cell"><br><div class="input_area"><br><div class="highlight"><br><pre><span class="n">sex_props_df</span><span class="p">[</span><span class="n">sex_props_df</span><span class="p">[</span><span class="s">‘item_count’</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">5</span><span class="p">]</span><br></pre><br></div><br></div><br></div><br></div><br><div class="output_wrapper"><br><div class="output"><br><div class="output_area"><br><div class="prompt output_prompt">Out[44]:</div><br><div class="output_html rendered_html output_subarea output_pyout"><br><div style="max-height: 1000px; max-width: 1500px; overflow: auto;"><br><table class="dataframe" border="1"><br><thead><br><tr style="text-align: right;"><br><th></th><br><th>item_count</th><br><th>total_props</th><br><th>props_per_item</th><br></tr><br></thead><br><tbody><br><tr><br><th>transgender female</th><br><td>41</td><br><td>398</td><br><td>9.707317</td><br></tr><br><tr><br><th>intersex</th><br><td>8</td><br><td>88</td><br><td>11.000000</td><br></tr><br><tr><br><th>female animal</th><br><td>6</td><br><td>44</td><br><td>7.333333</td><br></tr><br><tr><br><th>male animal</th><br><td>55</td><br><td>385</td><br><td>7.000000</td><br></tr><br><tr><br><th>genderqueer</th><br><td>8</td><br><td>63</td><br><td>7.875000</td><br></tr><br><tr><br><th>female</th><br><td>122288</td><br><td>738962</td><br><td>6.042801</td><br></tr><br><tr><br><th>male</th><br><td>768646</td><br><td>4816357</td><br><td>6.266028</td><br></tr><br></tbody><br></table><br>7 rows × 3 columns<br><br></div><br></div><br></div><br></div><br></div><br></div><br><div class="cell border-box-sizing text_cell rendered"><br><div class="prompt input_prompt"></div><br><div class="inner_cell"><br><div class="text_cell_render border-box-sizing rendered_html"><br><br>The above chart displays the properties per item, for all P21 values that occur 5 or more times. The results are telling, on avereage items with the ‘male’ property have 6.27 properties, and those with ‘female’ 6.04. It’s also worth mentioning that ‘transgender female’ averages 9.71 properties per item.<br><br></div><br></div><br></div><br><div class="cell border-box-sizing text_cell rendered"><br><div class="prompt input_prompt"></div><br><div class="inner_cell"><br><div class="text_cell_render border-box-sizing rendered_html"><br><br>### Conclusions<a href="#Conclusions">¶</a><br><br></div><br></div><br></div><br><div class="cell border-box-sizing text_cell rendered"><br><div class="prompt input_prompt"></div><br><div class="inner_cell"><br><div class="text_cell_render border-box-sizing rendered_html"><br><br>Without becoming too political, the biases that exist in Wikipedia’s representation of the world are systemic, and appreciable. We can see from our year-on-year calculations that there is movement in this dataset - albeit not always for the better. The representation of non-male-female items I suspect is lower than what a sample from the wolrd would indicate, but I don’t have any statistical reference, and would welcome suggestions on datasets with which to compare. Lastly we showed that not only in representation, but also in attention given to each item, underepresnted ‘sex or genders’ are less semantically-described.<br><br>Questions and criticism greatly recieved,<br><br><a href="https://twitter.com/notconfusing" target="_blank" rel="external">‽notconfusing</a><br><br></div><br></div><br></div><br><div class="cell border-box-sizing text_cell rendered"><br><div class="prompt input_prompt"></div><br><div class="inner_cell"><br><div class="text_cell_render border-box-sizing rendered_html"><br><br>## Start of Supporting Code<a href="#Start-of-Supporting-Code">¶</a><br><br></div><br></div><br></div><br><div class="cell border-box-sizing code_cell rendered"><br><div class="input"><br><div class="prompt input_prompt">In [1]:</div><br><div class="inner_cell"><br><div class="input_area"><br><div class="highlight"><br><pre><span class="kn">import</span> <span class="nn">json</span><br><span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span><br><span class="kn">import</span> <span class="nn">pandas</span> <span class="kn">as</span> <span class="nn">pd</span><br><span class="kn">import</span> <span class="nn">pywikibot</span><br><span class="kn">import</span> <span class="nn">decimal</span><br><span class="n">NOPLACES</span> <span class="o">=</span> <span class="n">decimal</span><span class="o">.</span><span class="n">Decimal</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="o"><strong></strong></span> <span class="mi">0</span><br><span class="n">TWOPLACES</span> <span class="o">=</span> <span class="n">decimal</span><span class="o">.</span><span class="n">Decimal</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="o"></span> <span class="o">-</span><span class="mi">2</span><br><span class="o">%</span><span class="k">pylab</span> <span class="n">inline</span><br></pre><br></div><br></div><br></div><br></div><br><div class="output_wrapper"><br><div class="output"><br><div class="output_area"><br><div class="prompt"></div><br><div class="output_subarea output_stream output_stderr output_text"><br><pre>VERBOSE:pywiki:Starting 1 threads…<br><br></pre><br></div><br></div><br><div class="output_area"><br><div class="prompt"></div><br><div class="output_subarea output_stream output_stdout output_text"><br><pre>Populating the interactive namespace from numpy and matplotlib<br><br></pre><br></div><br></div><br></div><br></div><br></div><br><div class="cell border-box-sizing code_cell rendered"><br><div class="input"><br><div class="prompt input_prompt">In [20]:</div><br><div class="inner_cell"><br><div class="input_area"><br><div class="highlight"><br><pre><span class="n">norm_sex</span><span class="p">[</span><span class="n">sexdf</span><span class="p">[</span><span class="s">‘total’</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">1000</span><span class="p">]</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="s">‘non_MF’</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><br></pre><br></div><br></div><br></div><br></div><br><div class="output_wrapper"><br><div class="output"><br><div class="output_area"><br><div class="prompt output_prompt">Out[20]:</div><br><div class="output_html rendered_html output_subarea output_pyout"><br><div style="max-height: 1000px; max-width: 1500px; overflow: auto;"><br><table class="dataframe" border="1"><br><thead><br><tr style="text-align: right;"><br><th></th><br><th>female animal</th><br><th>intersex</th><br><th>kathoey</th><br><th>Female</th><br><th>transgender female</th><br><th>male animal</th><br><th>male</th><br><th>female</th><br><th>transgender male</th><br><th>genderqueer</th><br><th>man</th><br><th>sodium</th><br><th>non_MF</th><br></tr><br></thead><br><tbody><br><tr><br><th>zh_min_nanwiki</th><br><td>0.000000</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.000664</td><br><td>0.000000</td><br><td>0.000664</td><br><td>0.787375</td><br><td>0.210631</td><br><td>0.000000</td><br><td>0.000664</td><br><td>0</td><br><td>0</td><br><td>0.001993</td><br></tr><br><tr><br><th>yiwiki</th><br><td>0.000000</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.001812</td><br><td>0.897645</td><br><td>0.100543</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0</td><br><td>0</td><br><td>0.001812</td><br></tr><br><tr><br><th>cywiki</th><br><td>0.000371</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.000186</td><br><td>0.000371</td><br><td>0.000000</td><br><td>0.820375</td><br><td>0.178326</td><br><td>0.000186</td><br><td>0.000186</td><br><td>0</td><br><td>0</td><br><td>0.001299</td><br></tr><br><tr><br><th>ckbwiki</th><br><td>0.000000</td><br><td>0.000588</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.000588</td><br><td>0.000000</td><br><td>0.893067</td><br><td>0.105758</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0</td><br><td>0</td><br><td>0.001175</td><br></tr><br><tr><br><th>thwiki</th><br><td>0.000000</td><br><td>0.000000</td><br><td>0.000129</td><br><td>0.000129</td><br><td>0.000388</td><br><td>0.000388</td><br><td>0.788345</td><br><td>0.210492</td><br><td>0.000129</td><br><td>0.000000</td><br><td>0</td><br><td>0</td><br><td>0.001163</td><br></tr><br><tr><br><th>mswiki</th><br><td>0.000000</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.000223</td><br><td>0.000223</td><br><td>0.000446</td><br><td>0.802679</td><br><td>0.196205</td><br><td>0.000223</td><br><td>0.000000</td><br><td>0</td><br><td>0</td><br><td>0.001116</td><br></tr><br><tr><br><th>ruwikiquote</th><br><td>0.000000</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.000552</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.909492</td><br><td>0.089404</td><br><td>0.000000</td><br><td>0.000552</td><br><td>0</td><br><td>0</td><br><td>0.001104</td><br></tr><br><tr><br><th>mlwiki</th><br><td>0.000270</td><br><td>0.000270</td><br><td>0.000000</td><br><td>0.000270</td><br><td>0.000270</td><br><td>0.000000</td><br><td>0.796161</td><br><td>0.202758</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0</td><br><td>0</td><br><td>0.001081</td><br></tr><br><tr><br><th>eowiki</th><br><td>0.000125</td><br><td>0.000187</td><br><td>0.000062</td><br><td>0.000062</td><br><td>0.000374</td><br><td>0.000249</td><br><td>0.851300</td><br><td>0.147640</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0</td><br><td>0</td><br><td>0.001060</td><br></tr><br><tr><br><th>kowiki</th><br><td>0.000075</td><br><td>0.000075</td><br><td>0.000038</td><br><td>0.000038</td><br><td>0.000491</td><br><td>0.000113</td><br><td>0.801608</td><br><td>0.197373</td><br><td>0.000075</td><br><td>0.000113</td><br><td>0</td><br><td>0</td><br><td>0.001019</td><br></tr><br></tbody><br></table><br>10 rows × 13 columns<br><br></div><br></div><br></div><br></div><br></div><br></div><br><div class="cell border-box-sizing code_cell rendered"><br><div class="input"><br><div class="prompt input_prompt">In [3]:</div><br><div class="inner_cell"><br><div class="input_area"><br><div class="highlight"><br><pre><span class="n">jsonfile</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">‘lang_sex.json’</span><span class="p">,</span><span class="s">‘r’</span><span class="p">)</span><br><span class="n">bigdict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">jsonfile</span><span class="p">)</span><br><span class="n">lang_sex</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">dict</span><span class="p">)</span><br><span class="k">for</span> <span class="n">keystring</span><span class="p">,</span> <span class="n">count</span> <span class="ow">in</span> <span class="n">bigdict</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span><br>    <span class="n">lang</span><span class="p">,</span> <span class="n">sex</span> <span class="o">=</span> <span class="n">keystring</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">‘–’</span><span class="p">)</span><br>    <span class="n">lang_sex</span><span class="p">[</span><span class="n">lang</span><span class="p">][</span><span class="n">sex</span><span class="p">]</span> <span class="o">=</span> <span class="n">count</span><br><br><span class="n">used_sexes</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span><br><span class="k">for</span> <span class="n">lang</span><span class="p">,</span> <span class="n">sex_dict</span> <span class="ow">in</span> <span class="n">lang_sex</span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span><br>    <span class="k">for</span> <span class="n">sex</span> <span class="ow">in</span> <span class="n">sex_dict</span><span class="o">.</span><span class="n">iterkeys</span><span class="p">():</span><br>        <span class="n">used_sexes</span><span class="p">[</span><span class="n">sex</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">lang</span><span class="p">)</span><br><br><span class="n">used_sexes_count</span> <span class="o">=</span> <span class="p">{</span><span class="n">sex</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">lang_list</span><span class="p">)</span> <span class="k">for</span> <span class="n">sex</span><span class="p">,</span> <span class="n">lang_list</span> <span class="ow">in</span> <span class="n">used_sexes</span><span class="o">.</span><span class="n">iteritems</span><span class="p">()}</span><br></pre><br></div><br></div><br></div><br></div><br></div><br><div class="cell border-box-sizing code_cell rendered"><br><div class="input"><br><div class="prompt input_prompt">In [6]:</div><br><div class="inner_cell"><br><div class="input_area"><br><div class="highlight"><br><pre><span class="n">sexdf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">lang_sex</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s">‘index’</span><span class="p">)</span><br><span class="n">sexdf</span> <span class="o">=</span> <span class="n">sexdf</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><br><span class="c">#sexdf.plot(kind=’bar’, stacked=True, figsize=(10,10))</span><br><span class="n">Norm_sex</span> <span class="ow">is</span> <span class="ow">not</span> <span class="s">“normal”</span> <span class="n">sex</span><span class="p">,</span> <span class="n">but</span> <span class="n">rather</span> <span class="n">the</span> <span class="n">Sex</span><span class="o">-</span><span class="n">data</span> <span class="n">normed</span> <span class="n">into</span> <span class="n">percentages</span><span class="o">.</span><br><span class="n">norm_sex</span> <span class="o">=</span> <span class="n">sexdf</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">col</span><span class="p">:</span> <span class="n">col</span> <span class="o">/</span> <span class="nb">float</span><span class="p">(</span><span class="n">col</span><span class="o">.</span><span class="n">sum</span><span class="p">()),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><br></pre><br></div><br></div><br></div><br></div><br></div><br><div class="cell border-box-sizing code_cell rendered"><br><div class="input"><br><div class="prompt input_prompt">In [8]:</div><br><div class="inner_cell"><br><div class="input_area"><br><div class="highlight"><br><pre><span class="c">#Tranforming QIDs into English labels.</span><br><span class="n">enwp</span> <span class="o">=</span> <span class="n">pywikibot</span><span class="o">.</span><span class="n">Site</span><span class="p">(</span><span class="s">‘en’</span><span class="p">,</span><span class="s">‘wikipedia’</span><span class="p">)</span><br><span class="n">wikidata</span> <span class="o">=</span> <span class="n">enwp</span><span class="o">.</span><span class="n">data_repository</span><span class="p">()</span><br><br><span class="k">def</span> <span class="nf">english_label</span><span class="p">(</span><span class="n">qid</span><span class="p">):</span><br>    <span class="n">page</span> <span class="o">=</span> <span class="n">pywikibot</span><span class="o">.</span><span class="n">ItemPage</span><span class="p">(</span><span class="n">wikidata</span><span class="p">,</span> <span class="n">qid</span><span class="p">)</span><br>    <span class="n">data</span> <span class="o">=</span> <span class="n">page</span><span class="o">.</span><span class="n">get</span><span class="p">()</span><br>    <span class="k">return</span> <span class="n">data</span><span class="p">[</span><span class="s">‘labels’</span><span class="p">][</span><span class="s">‘en’</span><span class="p">]</span><br><br><span class="n">sex_qs</span> <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">q</span><span class="p">)</span> <span class="k">for</span> <span class="n">q</span> <span class="ow">in</span> <span class="n">norm_sex</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span><br><span class="n">sex_labels</span> <span class="o">=</span> <span class="p">[</span><span class="n">english_label</span><span class="p">(</span><span class="n">sex_q</span><span class="p">)</span> <span class="k">for</span> <span class="n">sex_q</span> <span class="ow">in</span> <span class="n">sex_qs</span><span class="p">]</span><br><br><span class="n">norm_sex</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">sex_labels</span><br></pre><br></div><br></div><br></div><br></div><br><div class="output_wrapper"><br><div class="output"><br><div class="output_area"><br><div class="prompt"></div><br><div class="output_subarea output_stream output_stderr output_text"><br><pre>VERBOSE:pywiki:Found 1 wikidata:wikidata processes running, including this one.<br><br></pre><br></div><br></div><br></div><br></div><br></div><br><div class="cell border-box-sizing code_cell rendered"><br><div class="input"><br><div class="prompt input_prompt">In [9]:</div><br><div class="inner_cell"><br><div class="input_area"><br><div class="highlight"><br><pre><span class="c">#norm_sex.index = [label.replace(‘wiki’,’’) for label in norm_sex.index]</span><br><span class="c">#comparing by total between two different dataframes requires </span><br><span class="c">#that norm_sex has not had any rows modified since it was created from sexdf</span><br><span class="n">sexdf</span><span class="p">[</span><span class="s">‘total’</span><span class="p">]</span> <span class="o">=</span> <span class="n">sexdf</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><br><span class="n">fs1000</span> <span class="o">=</span> <span class="n">norm_sex</span><span class="p">[</span><span class="n">sexdf</span><span class="p">[</span><span class="s">‘total’</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">10000</span><span class="p">]</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="s">‘female’</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span><br></pre><br></div><br></div><br></div><br></div><br></div><br><div class="cell border-box-sizing code_cell rendered"><br><div class="input"><br><div class="prompt input_prompt">In [11]:</div><br><div class="inner_cell"><br><div class="input_area"><br><div class="highlight"><br><pre><span class="k">def</span> <span class="nf">show_by_lang_plot</span><span class="p">():</span><br>    <span class="n">fsplot</span> <span class="o">=</span> <span class="n">fs1000</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s">‘bar’</span><span class="p">,</span> <span class="n">stacked</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">13</span><span class="p">,</span><span class="mi">8</span><span class="p">),</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="n">ylim</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><br>                         <span class="n">title</span><span class="o">=</span> <span class="s">‘’’Comoposition of Wikidata Prorerty:P21 “Sex or Gender” by Language </span><br><span class="s">    (Languages with over 1,000 associated P21)’’’</span><span class="p">,</span><br>                         <span class="n">colormap</span><span class="o">=</span><span class="s">‘Set1’</span><span class="p">)</span><br><br>    <span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">num</span><span class="o">=</span><span class="mi">11</span><span class="p">),</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">decimal</span><span class="o">.</span><span class="n">Decimal</span><span class="p">(</span><span class="n">x</span> <span class="o"><em></em></span> <span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">quantize</span><span class="p">(</span><span class="n">NOPLACES</span><span class="p">))</span><span class="o">+</span><span class="s">‘%’</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mf">1.1</span><span class="p">,</span><span class="mf">0.1</span><span class="p">)])</span><br><br>    <span class="n">ticklocs</span><span class="p">,</span> <span class="n">langs</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">()</span><br>    <span class="n">langstrs</span> <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">decimal</span><span class="o">.</span><span class="n">Decimal</span><span class="p">(</span><span class="n">norm_sex</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">lang</span><span class="o">.</span><span class="n">get_text</span><span class="p">()][</span><span class="s">‘female’</span><span class="p">]</span><span class="o"></span> <span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">quantize</span><span class="p">(</span><span class="n">TWOPLACES</span><span class="p">))</span><span class="o">+</span><span class="s">‘%  ‘</span><span class="o">+</span> <span class="n">lang</span><span class="o">.</span><span class="n">get_text</span><span class="p">()</span> <span class="k">for</span> <span class="n">lang</span> <span class="ow">in</span> <span class="n">langs</span><span class="p">]</span><br>    <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">ticklocs</span><span class="p">,</span> <span class="n">langstrs</span><span class="p">)</span><br>    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s">‘Language-Wiki percentage “female”‘</span><span class="p">)</span><br></pre><br></div><br></div><br></div><br></div><br></div><br><div class="cell border-box-sizing text_cell rendered"><br><div class="prompt input_prompt"></div><br><div class="inner_cell"><br><div class="text_cell_render border-box-sizing rendered_html"><br><br>For your edification, the full data, and not just the ‘female’ percentages.<br><br></div><br></div><br></div><br><div class="cell border-box-sizing code_cell rendered"><br><div class="input"><br><div class="prompt input_prompt">In [15]:</div><br><div class="inner_cell"><br><div class="input_area"><br><div class="highlight"><br><pre><span class="n">fs1000</span><br></pre><br></div><br></div><br></div><br></div><br><div class="output_wrapper"><br><div class="output"><br><div class="output_area"><br><div class="prompt output_prompt">Out[15]:</div><br><div class="output_html rendered_html output_subarea output_pyout"><br><div style="max-height: 1000px; max-width: 1500px; overflow: auto;"><br><table class="dataframe" border="1"><br><thead><br><tr style="text-align: right;"><br><th></th><br><th>female animal</th><br><th>intersex</th><br><th>kathoey</th><br><th>Female</th><br><th>transgender female</th><br><th>male animal</th><br><th>male</th><br><th>female</th><br><th>transgender male</th><br><th>genderqueer</th><br><th>man</th><br><th>sodium</th><br></tr><br></thead><br><tbody><br><tr><br><th>slwiki</th><br><td>0.000074</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.000074</td><br><td>0.000074</td><br><td>0.000074</td><br><td>0.911398</td><br><td>0.088307</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.00000</td><br></tr><br><tr><br><th>lawiki</th><br><td>0.000060</td><br><td>0.000060</td><br><td>0.000000</td><br><td>0.000060</td><br><td>0.000180</td><br><td>0.000120</td><br><td>0.889302</td><br><td>0.110219</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.00000</td><br></tr><br><tr><br><th>bewiki</th><br><td>0.000000</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.000099</td><br><td>0.000000</td><br><td>0.000099</td><br><td>0.876528</td><br><td>0.123273</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.00000</td><br></tr><br><tr><br><th>cawiki</th><br><td>0.000026</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.000026</td><br><td>0.000103</td><br><td>0.000129</td><br><td>0.870905</td><br><td>0.128786</td><br><td>0.000026</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.00000</td><br></tr><br><tr><br><th>elwiki</th><br><td>0.000000</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.000068</td><br><td>0.000068</td><br><td>0.000068</td><br><td>0.869061</td><br><td>0.130734</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.00000</td><br></tr><br><tr><br><th>euwiki</th><br><td>0.000080</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.000080</td><br><td>0.000080</td><br><td>0.000239</td><br><td>0.865686</td><br><td>0.133837</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.00000</td><br></tr><br><tr><br><th>skwiki</th><br><td>0.000078</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.000078</td><br><td>0.000078</td><br><td>0.000078</td><br><td>0.864363</td><br><td>0.135245</td><br><td>0.000078</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.00000</td><br></tr><br><tr><br><th>frwiki</th><br><td>0.000020</td><br><td>0.000025</td><br><td>0.000000</td><br><td>0.000005</td><br><td>0.000107</td><br><td>0.000097</td><br><td>0.858680</td><br><td>0.141045</td><br><td>0.000005</td><br><td>0.000015</td><br><td>0.000000</td><br><td>0.00000</td><br></tr><br><tr><br><th>cswiki</th><br><td>0.000048</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.000024</td><br><td>0.000096</td><br><td>0.000096</td><br><td>0.858648</td><br><td>0.141063</td><br><td>0.000024</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.00000</td><br></tr><br><tr><br><th>enwiki</th><br><td>0.000009</td><br><td>0.000012</td><br><td>0.000002</td><br><td>0.000002</td><br><td>0.000069</td><br><td>0.000052</td><br><td>0.857699</td><br><td>0.142132</td><br><td>0.000007</td><br><td>0.000014</td><br><td>0.000002</td><br><td>0.00000</td><br></tr><br><tr><br><th>ruwiki</th><br><td>0.000038</td><br><td>0.000019</td><br><td>0.000010</td><br><td>0.000010</td><br><td>0.000077</td><br><td>0.000077</td><br><td>0.857515</td><br><td>0.142226</td><br><td>0.000019</td><br><td>0.000010</td><br><td>0.000000</td><br><td>0.00000</td><br></tr><br><tr><br><th>dawiki</th><br><td>0.000036</td><br><td>0.000073</td><br><td>0.000000</td><br><td>0.000036</td><br><td>0.000109</td><br><td>0.000073</td><br><td>0.856768</td><br><td>0.142904</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.00000</td><br></tr><br><tr><br><th>ukwiki</th><br><td>0.000062</td><br><td>0.000031</td><br><td>0.000000</td><br><td>0.000031</td><br><td>0.000062</td><br><td>0.000031</td><br><td>0.855573</td><br><td>0.144178</td><br><td>0.000031</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.00000</td><br></tr><br><tr><br><th>dewiki</th><br><td>0.000013</td><br><td>0.000006</td><br><td>0.000003</td><br><td>0.000003</td><br><td>0.000034</td><br><td>0.000047</td><br><td>0.855591</td><br><td>0.144277</td><br><td>0.000013</td><br><td>0.000013</td><br><td>0.000000</td><br><td>0.00000</td><br></tr><br><tr><br><th>itwiki</th><br><td>0.000006</td><br><td>0.000028</td><br><td>0.000000</td><br><td>0.000006</td><br><td>0.000090</td><br><td>0.000107</td><br><td>0.854986</td><br><td>0.144760</td><br><td>0.000011</td><br><td>0.000006</td><br><td>0.000000</td><br><td>0.00000</td><br></tr><br><tr><br><th>eowiki</th><br><td>0.000125</td><br><td>0.000187</td><br><td>0.000062</td><br><td>0.000062</td><br><td>0.000374</td><br><td>0.000249</td><br><td>0.851300</td><br><td>0.147640</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.00000</td><br></tr><br><tr><br><th>glwiki</th><br><td>0.000082</td><br><td>0.000082</td><br><td>0.000000</td><br><td>0.000082</td><br><td>0.000329</td><br><td>0.000164</td><br><td>0.851602</td><br><td>0.147658</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.00000</td><br></tr><br><tr><br><th>etwiki</th><br><td>0.000079</td><br><td>0.000079</td><br><td>0.000000</td><br><td>0.000079</td><br><td>0.000079</td><br><td>0.000237</td><br><td>0.846676</td><br><td>0.152771</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.00000</td><br></tr><br><tr><br><th>arwiki</th><br><td>0.000040</td><br><td>0.000040</td><br><td>0.000000</td><br><td>0.000040</td><br><td>0.000079</td><br><td>0.000079</td><br><td>0.846166</td><br><td>0.153516</td><br><td>0.000000</td><br><td>0.000040</td><br><td>0.000000</td><br><td>0.00000</td><br></tr><br><tr><br><th>idwiki</th><br><td>0.000208</td><br><td>0.000052</td><br><td>0.000000</td><br><td>0.000052</td><br><td>0.000104</td><br><td>0.000156</td><br><td>0.843220</td><br><td>0.156156</td><br><td>0.000052</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.00000</td><br></tr><br><tr><br><th>hrwiki</th><br><td>0.000078</td><br><td>0.000078</td><br><td>0.000000</td><br><td>0.000078</td><br><td>0.000078</td><br><td>0.000156</td><br><td>0.842670</td><br><td>0.156863</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.00000</td><br></tr><br><tr><br><th>eswiki</th><br><td>0.000030</td><br><td>0.000040</td><br><td>0.000000</td><br><td>0.000010</td><br><td>0.000109</td><br><td>0.000079</td><br><td>0.841094</td><br><td>0.158589</td><br><td>0.000020</td><br><td>0.000020</td><br><td>0.000000</td><br><td>0.00001</td><br></tr><br><tr><br><th>ptwiki</th><br><td>0.000043</td><br><td>0.000043</td><br><td>0.000000</td><br><td>0.000014</td><br><td>0.000199</td><br><td>0.000114</td><br><td>0.840760</td><br><td>0.158785</td><br><td>0.000014</td><br><td>0.000028</td><br><td>0.000000</td><br><td>0.00000</td><br></tr><br><tr><br><th>bgwiki</th><br><td>0.000091</td><br><td>0.000045</td><br><td>0.000000</td><br><td>0.000045</td><br><td>0.000091</td><br><td>0.000181</td><br><td>0.839242</td><br><td>0.160305</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.00000</td><br></tr><br><tr><br><th>huwiki</th><br><td>0.000120</td><br><td>0.000040</td><br><td>0.000000</td><br><td>0.000040</td><br><td>0.000200</td><br><td>0.000200</td><br><td>0.839014</td><br><td>0.160386</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.00000</td><br></tr><br><tr><br><th>plwiki</th><br><td>0.000031</td><br><td>0.000021</td><br><td>0.000000</td><br><td>0.000010</td><br><td>0.000063</td><br><td>0.000094</td><br><td>0.839206</td><br><td>0.160575</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.00000</td><br></tr><br><tr><br><th>nlwiki</th><br><td>0.000041</td><br><td>0.000027</td><br><td>0.000000</td><br><td>0.000014</td><br><td>0.000082</td><br><td>0.000123</td><br><td>0.838302</td><br><td>0.161343</td><br><td>0.000014</td><br><td>0.000041</td><br><td>0.000014</td><br><td>0.00000</td><br></tr><br><tr><br><th>hewiki</th><br><td>0.000085</td><br><td>0.000042</td><br><td>0.000000</td><br><td>0.000042</td><br><td>0.000297</td><br><td>0.000127</td><br><td>0.836914</td><br><td>0.162449</td><br><td>0.000000</td><br><td>0.000042</td><br><td>0.000000</td><br><td>0.00000</td><br></tr><br><tr><br><th>trwiki</th><br><td>0.000076</td><br><td>0.000038</td><br><td>0.000000</td><br><td>0.000038</td><br><td>0.000114</td><br><td>0.000191</td><br><td>0.833810</td><br><td>0.165656</td><br><td>0.000038</td><br><td>0.000038</td><br><td>0.000000</td><br><td>0.00000</td><br></tr><br><tr><br><th>fiwiki</th><br><td>0.000060</td><br><td>0.000060</td><br><td>0.000020</td><br><td>0.000020</td><br><td>0.000099</td><br><td>0.000079</td><br><td>0.824523</td><br><td>0.175100</td><br><td>0.000040</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.00000</td><br></tr><br><tr><br><th>jawiki</th><br><td>0.000030</td><br><td>0.000030</td><br><td>0.000015</td><br><td>0.000015</td><br><td>0.000167</td><br><td>0.000107</td><br><td>0.823550</td><br><td>0.176039</td><br><td>0.000000</td><br><td>0.000030</td><br><td>0.000015</td><br><td>0.00000</td><br></tr><br><tr><br><th>zhwiki</th><br><td>0.000087</td><br><td>0.000029</td><br><td>0.000029</td><br><td>0.000029</td><br><td>0.000261</td><br><td>0.000145</td><br><td>0.820476</td><br><td>0.178885</td><br><td>0.000029</td><br><td>0.000029</td><br><td>0.000000</td><br><td>0.00000</td><br></tr><br><tr><br><th>nowiki</th><br><td>0.000020</td><br><td>0.000020</td><br><td>0.000000</td><br><td>0.000020</td><br><td>0.000082</td><br><td>0.000082</td><br><td>0.819593</td><br><td>0.180183</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.00000</td><br></tr><br><tr><br><th>shwiki</th><br><td>0.000073</td><br><td>0.000073</td><br><td>0.000000</td><br><td>0.000073</td><br><td>0.000367</td><br><td>0.000000</td><br><td>0.817768</td><br><td>0.181571</td><br><td>0.000000</td><br><td>0.000073</td><br><td>0.000000</td><br><td>0.00000</td><br></tr><br><tr><br><th>fawiki</th><br><td>0.000066</td><br><td>0.000033</td><br><td>0.000033</td><br><td>0.000033</td><br><td>0.000332</td><br><td>0.000033</td><br><td>0.816748</td><br><td>0.182721</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.00000</td><br></tr><br><tr><br><th>rowiki</th><br><td>0.000096</td><br><td>0.000048</td><br><td>0.000000</td><br><td>0.000048</td><br><td>0.000048</td><br><td>0.000096</td><br><td>0.816821</td><br><td>0.182844</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.00000</td><br></tr><br><tr><br><th>simplewiki</th><br><td>0.000051</td><br><td>0.000051</td><br><td>0.000000</td><br><td>0.000051</td><br><td>0.000306</td><br><td>0.000102</td><br><td>0.815151</td><br><td>0.184084</td><br><td>0.000051</td><br><td>0.000153</td><br><td>0.000000</td><br><td>0.00000</td><br></tr><br><tr><br><th>viwiki</th><br><td>0.000093</td><br><td>0.000093</td><br><td>0.000000</td><br><td>0.000093</td><br><td>0.000093</td><br><td>0.000186</td><br><td>0.813103</td><br><td>0.186247</td><br><td>0.000000</td><br><td>0.000093</td><br><td>0.000000</td><br><td>0.00000</td><br></tr><br><tr><br><th>svwiki</th><br><td>0.000042</td><br><td>0.000042</td><br><td>0.000000</td><br><td>0.000014</td><br><td>0.000111</td><br><td>0.000056</td><br><td>0.811433</td><br><td>0.188275</td><br><td>0.000014</td><br><td>0.000014</td><br><td>0.000000</td><br><td>0.00000</td><br></tr><br><tr><br><th>commonswiki</th><br><td>0.000045</td><br><td>0.000000</td><br><td>0.000000</td><br><td>0.000045</td><br><td>0.000089</td><br><td>0.000268</td><br><td>0.810849</td><br><td>0.188614</td><br><td>0.000045</td><br><td>0.000045</td><br><td>0.000000</td><br><td>0.00000</td><br></tr><br><tr><br><th>kowiki</th><br><td>0.000075</td><br><td>0.000075</td><br><td>0.000038</td><br><td>0.000038</td><br><td>0.000491</td><br><td>0.000113</td><br><td>0.801608</td><br><td>0.197373</td><br><td>0.000075</td><br><td>0.000113</td><br><td>0.000000</td><br><td>0.00000</td><br></tr><br><tr><br><th>srwiki</th><br><td>0.000074</td><br><td>0.000074</td><br><td>0.000000</td><br><td>0.000074</td><br><td>0.000074</td><br><td>0.000223</td><br><td>0.799718</td><br><td>0.199688</td><br><td>0.000000</td><br><td>0.000074</td><br><td>0.000000</td><br><td>0.00000</td><br></tr><br></tbody><br></table><br>42 rows × 12 columns<br><br></div><br></div><br></div><br></div><br></div><br></div><br><div class="cell border-box-sizing code_cell rendered"><br><div class="input"><br><div class="prompt input_prompt">In [16]:</div><br><div class="inner_cell"><br><div class="input_area"><br><div class="highlight"><br><pre><span class="n">maydf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_table</span><span class="p">(</span><span class="s">‘may2013.csv’</span><span class="p">,</span><span class="n">sep</span><span class="o">=</span><span class="s">‘,’</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><br><span class="n">maydf</span><span class="p">[</span><span class="s">‘female’</span><span class="p">]</span> <span class="o">=</span> <span class="n">maydf</span><span class="p">[</span><span class="s">‘perc’</span><span class="p">]</span> <span class="o">/</span> <span class="mf">100.0</span><br><span class="n">diffdf</span> <span class="o">=</span> <span class="n">maydf</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">other</span><span class="o">=</span><span class="n">norm_sex</span><span class="p">,</span><span class="n">how</span><span class="o">=</span><span class="s">‘inner’</span><span class="p">,</span><span class="n">lsuffix</span><span class="o">=</span><span class="s">‘_may2013’</span><span class="p">,</span> <span class="n">rsuffix</span><span class="o">=</span><span class="s">‘_march2014’</span><span class="p">)</span><br><span class="n">diffdf</span><span class="p">[</span><span class="s">‘change%’</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">diffdf</span><span class="p">[</span><span class="s">‘female_march2014’</span><span class="p">]</span> <span class="o">-</span> <span class="n">diffdf</span><span class="p">[</span><span class="s">‘female_may2013’</span><span class="p">])</span> <span class="o">/</span> <span class="n">diffdf</span><span class="p">[</span><span class="s">‘female_may2013’</span><span class="p">]</span><br><span class="n">diffdf</span><span class="p">[</span><span class="s">‘change%’</span><span class="p">]</span> <span class="o">=</span> <span class="n">diffdf</span><span class="p">[</span><span class="s">‘change%’</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">decimal</span><span class="o">.</span><span class="n">Decimal</span><span class="p">(</span><span class="n">x</span> <span class="o"><em></em></span> <span class="mi">100</span><span class="p">)</span><span class="o">.</span><span class="n">quantize</span><span class="p">(</span><span class="n">TWOPLACES</span><span class="p">)</span> <span class="p">)</span><br></pre><br></div><br></div><br></div><br></div><br></div><br><div class="cell border-box-sizing code_cell rendered"><br><div class="input"><br><div class="prompt input_prompt">In [19]:</div><br><div class="inner_cell"><br><div class="input_area"><br><div class="highlight"><br><pre><span class="n">non_MF_cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">col</span> <span class="k">for</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">norm_sex</span><span class="o">.</span><span class="n">columns</span> <span class="k">if</span> <span class="n">col</span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">[</span><span class="s">‘male’</span><span class="p">,</span><span class="s">‘female’</span><span class="p">]]</span><br><span class="n">norm_sex</span><span class="p">[</span><span class="s">‘non_MF’</span><span class="p">]</span> <span class="o">=</span> <span class="n">norm_sex</span><span class="p">[</span><span class="n">non_MF_cols</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><br></pre><br></div><br></div><br></div><br></div><br></div><br><div class="cell border-box-sizing code_cell rendered"><br><div class="input"><br><div class="prompt input_prompt">In [128]:</div><br><div class="inner_cell"><br><div class="input_area"><br><div class="highlight"><br><pre><span class="n">top_non_MF_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span><br><span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">non_MF_cols</span><span class="p">:</span><br>    <span class="n">t</span> <span class="o">=</span> <span class="n">norm_sex</span><span class="p">[</span><span class="n">sexdf</span><span class="p">[</span><span class="s">‘total’</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">1000</span><span class="p">]</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="n">s</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="bp">False</span><span class="p">)[</span><span class="n">s</span><span class="p">]</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><br>    <span class="n">top_non_MF_dict</span><span class="p">[</span><span class="n">s</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s">‘wiki’</span><span class="p">:</span><span class="n">t</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span><span class="s">‘non_MF%’</span><span class="p">:</span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o"></span><span class="mi">100</span><span class="p">}</span><br><span class="n">top_non_MF</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">top_non_MF_dict</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s">‘index’</span><span class="p">)</span><br></pre><br></div><br></div><br></div><br></div><br></div><br><div class="cell border-box-sizing code_cell rendered"><br><div class="input"><br><div class="prompt input_prompt">In [43]:</div><br><div class="inner_cell"><br><div class="input_area"><br><div class="highlight"><br><pre><span class="n">jsonfile</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="s">‘sex_propcount.json’</span><span class="p">,</span><span class="s">‘r’</span><span class="p">)</span><br><span class="n">sex_props_json</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">jsonfile</span><span class="p">)</span><br><span class="n">sex_props</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">dict</span><span class="p">)</span><br><span class="k">for</span> <span class="n">keystring</span><span class="p">,</span> <span class="n">count</span> <span class="ow">in</span> <span class="n">sex_props<em>json</em></span><span class="o">.</span><span class="n">iteritems</span><span class="p">():</span><br>    <span class="n">sex</span><span class="p">,</span> <span class="n">prop</span> <span class="o">=</span> <span class="n">keystring</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s">‘‘</span><span class="p">)</span><br>    <span class="n">sex_props</span><span class="p">[</span><span class="n">sex</span><span class="p">][</span><span class="n">prop</span><span class="p">]</span> <span class="o">=</span> <span class="n">count</span><br><br><span class="n">sex_props_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_dict</span><span class="p">(</span><span class="n">sex_props</span><span class="p">,</span> <span class="n">orient</span><span class="o">=</span><span class="s">‘index’</span><span class="p">)</span><br><br><span class="n">sex_qs</span> <span class="o">=</span> <span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">q</span><span class="p">)</span> <span class="k">for</span> <span class="n">q</span> <span class="ow">in</span> <span class="n">sex_props_df</span><span class="o">.</span><span class="n">index</span><span class="p">]</span><br><span class="n">sex_labels</span> <span class="o">=</span> <span class="p">[</span><span class="n">english_label</span><span class="p">(</span><span class="n">sex_q</span><span class="p">)</span> <span class="k">for</span> <span class="n">sex_q</span> <span class="ow">in</span> <span class="n">sex_qs</span><span class="p">]</span><br><br><span class="n">sex_props_df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s">‘item_count’</span><span class="p">,</span> <span class="s">‘total_props’</span><span class="p">]</span><br><br><span class="n">sex_props_df</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">sex_labels</span><br><br><span class="n">sex_props_df</span><span class="p">[</span><span class="s">‘props_per_item’</span><span class="p">]</span> <span class="o">=</span> <span class="n">sex_props_df</span><span class="p">[</span><span class="s">‘total_props’</span><span class="p">]</span> <span class="o">/</span> <span class="n">sex_props_df</span><span class="p">[</span><span class="s">‘item_count’</span><span class="p">]</span><br></pre><br></div><br></div><br></div><br></div><br><div class="output_wrapper"><br><div class="output"><br><div class="output_area"><br><div class="prompt"></div><br><div class="output_subarea output_stream output_stderr output_text"><br><pre>VERBOSE:pywiki:Found 1 wikidata:wikidata processes running, including this one.<br><br></pre><br></div><br></div><br></div><br></div><br></div><br></div><br></div>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2014/05/21/sex-ratios-in-wikidata-part-iii/" data-id="ciy2b27il004fsmpdp3fghvph" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2014/05/29/sneak-peek-at-wikimedias-new-bold-high-concept-iconography/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          Sneak Peek at Wikimedia&amp;#039;s New Bold, High Concept Iconography
        
      </div>
    </a>
  
  
    <a href="/2014/05/15/kleins-search-for-klajnbohms-an-ancestral-research-trip-to-zwolen-poland/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Kleins search for Klajnbohms; an ancestral research trip to  Zwoleń Poland</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Essays/">Essays</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Essays/Hacking/">Hacking</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Essays/Hacking/Lesser-Thoughts/">Lesser Thoughts</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Essays/Hacking/Lesser-Thoughts/Math/">Math</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Essays/Icebreakers/">Icebreakers</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Essays/Icebreakers/Totally-Inconsequential-Thoughts/">Totally Inconsequential Thoughts</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Essays/Lesser-Thoughts/">Lesser Thoughts</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Essays/Lesser-Thoughts/PhD/">PhD</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Essays/Math/">Math</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Essays/Math/Opinion/">Opinion</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Essays/Opinion/">Opinion</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Essays/Opinion/Review/">Review</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Essays/Opinion/Totally-Inconsequential-Thoughts/">Totally Inconsequential Thoughts</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Essays/PhD/">PhD</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Essays/PhD/Research-Notes/">Research Notes</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Essays/Podcasts/">Podcasts</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Essays/Research-Notes/">Research Notes</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Essays/Review/">Review</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Essays/Review/Wiki/">Wiki</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Hacking/">Hacking</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Hacking/Lesser-Thoughts/">Lesser Thoughts</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Hacking/Lesser-Thoughts/Research-Notes/">Research Notes</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Hacking/Math/">Math</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Hacking/Math/Research-Notes/">Research Notes</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Hacking/Math/Research-Notes/Totally-Inconsequential-Thoughts/">Totally Inconsequential Thoughts</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Hacking/Research-Notes/">Research Notes</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Hacking/Research-Notes/Totally-Inconsequential-Thoughts/">Totally Inconsequential Thoughts</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Lesser-Thoughts/">Lesser Thoughts</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Lesser-Thoughts/Math/">Math</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Lesser-Thoughts/Math/Research-Notes/">Research Notes</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Lesser-Thoughts/Math/Research-Notes/Wiki/">Wiki</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Lesser-Thoughts/Opinion/">Opinion</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Lesser-Thoughts/Opinion/Research-Notes/">Research Notes</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Lesser-Thoughts/Opinion/Research-Notes/Wiki/">Wiki</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Lesser-Thoughts/Opinion/Wiki/">Wiki</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Lesser-Thoughts/PhD/">PhD</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Lesser-Thoughts/PhD/Research-Notes/">Research Notes</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Lesser-Thoughts/PhD/Research-Notes/Totally-Inconsequential-Thoughts/">Totally Inconsequential Thoughts</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Lesser-Thoughts/PhD/Research-Notes/Wiki/">Wiki</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Lesser-Thoughts/Presentations/">Presentations</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Lesser-Thoughts/Presentations/Research-Notes/">Research Notes</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Lesser-Thoughts/Presentations/Research-Notes/Wiki/">Wiki</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Lesser-Thoughts/Research-Notes/">Research Notes</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Lesser-Thoughts/Research-Notes/Wiki/">Wiki</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/PhD/">PhD</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/PhD/Research-Notes/">Research Notes</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/PhD/Research-Notes/Totally-Inconsequential-Thoughts/">Totally Inconsequential Thoughts</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/Research-Notes/">Research Notes</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Research-Notes/Wiki/">Wiki</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/">blog</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/blog/Hacking/">Hacking</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/blog/Hacking/Lesser-Thoughts/">Lesser Thoughts</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/blog/Hacking/Lesser-Thoughts/Wiki/">Wiki</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/Hacking/Opinion/">Opinion</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/blog/Hacking/Opinion/Totally-Inconsequential-Thoughts/">Totally Inconsequential Thoughts</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/Hacking/Yoga/">Yoga</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/Icebreakers/">Icebreakers</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/blog/Icebreakers/Lesser-Thoughts/">Lesser Thoughts</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/blog/Icebreakers/Lesser-Thoughts/Opinion/">Opinion</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/Iron-Blogging/">Iron Blogging</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/blog/Iron-Blogging/Lesser-Thoughts/">Lesser Thoughts</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/blog/Iron-Blogging/Lesser-Thoughts/Opinion/">Opinion</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/Iron-Blogging/Opinion/">Opinion</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/blog/Iron-Blogging/Opinion/Totally-Inconsequential-Thoughts/">Totally Inconsequential Thoughts</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/Lesser-Thoughts/">Lesser Thoughts</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/blog/Lesser-Thoughts/Math/">Math</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/Lesser-Thoughts/Opinion/">Opinion</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/blog/Lesser-Thoughts/Opinion/Wiki/">Wiki</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/Lesser-Thoughts/Research-Notes/">Research Notes</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/Lesser-Thoughts/Review/">Review</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/Lesser-Thoughts/Wiki/">Wiki</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/Opinion/">Opinion</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/blog/Opinion/Totally-Inconsequential-Thoughts/">Totally Inconsequential Thoughts</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/blog/Opinion/Totally-Inconsequential-Thoughts/Wiki/">Wiki</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/PhD/">PhD</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/blog/PhD/Totally-Inconsequential-Thoughts/">Totally Inconsequential Thoughts</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/Review/">Review</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/blog/Review/Totally-Inconsequential-Thoughts/">Totally Inconsequential Thoughts</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/Totally-Inconsequential-Thoughts/">Totally Inconsequential Thoughts</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/blog/Totally-Inconsequential-Thoughts/Yoga/">Yoga</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/blog/Wiki/">Wiki</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/conference/">conference</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/conference/Lesser-Thoughts/">Lesser Thoughts</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/conference/Lesser-Thoughts/Presentations/">Presentations</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/conference/Lesser-Thoughts/Presentations/Research-Notes/">Research Notes</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/conference/Lesser-Thoughts/Presentations/Research-Notes/Wiki/">Wiki</a></li></ul></li></ul></li></ul></li></ul></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/wiki/">wiki</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/wiki/" style="font-size: 10px;">wiki</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">October 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">February 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">January 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">November 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">October 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">August 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">July 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">June 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">May 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/02/">February 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">January 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">December 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/11/">November 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10/">October 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/07/">July 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/06/">June 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/05/">May 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/04/">April 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/01/">January 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/12/">December 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/10/">October 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/09/">September 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/08/">August 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/07/">July 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/06/">June 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/05/">May 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/04/">April 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/03/">March 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/02/">February 2013</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/10/">October 2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/09/">September 2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/08/">August 2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/06/">June 2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2012/01/">January 2012</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/12/">December 2011</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/11/">November 2011</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/09/">September 2011</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2011/06/">June 2011</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/01/03/wikidata-human-gender-indicators-in-the-news/">Wikidata Human Gender Indicators in the News</a>
          </li>
        
          <li>
            <a href="/2016/11/15/so-you-want-to-upload-an-image-to-the-cloud-with-node-js/">So you want to upload an image to the cloud with Node.js</a>
          </li>
        
          <li>
            <a href="/2016/10/08/for-harry-and-carie-on-their-wedding-day/">For Harry and Carie on their Wedding Day</a>
          </li>
        
          <li>
            <a href="/2016/09/25/machine-learning-in-3rd-grade/">Machine Learning in 3rd Grade</a>
          </li>
        
          <li>
            <a href="/2016/06/25/suggestions-of-fake-profiles-in-couchsurfing/">Suggestions of Fake Profiles in Couchsurfing</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>